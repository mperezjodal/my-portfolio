{"ast":null,"code":"import _slicedToArray from \"/Users/marceloperez/Documents/my-portfolio/my-portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useState, useRef, useEffect } from 'react';\nimport { getLockStyles } from './utils/get-lock-styles.js';\nimport { injectStyles } from './utils/inject-style-tag.js';\nimport { insertStyleTag } from './utils/insert-style-tag.js';\nimport { makeStyleTag } from './utils/make-style-tag.js';\n\nfunction useScrollLock(lock) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    disableBodyPadding: false\n  };\n\n  var _useState = useState(lock || false),\n      _useState2 = _slicedToArray(_useState, 2),\n      scrollLocked = _useState2[0],\n      setScrollLocked = _useState2[1];\n\n  var scrollTop = useRef(0);\n  var disableBodyPadding = options.disableBodyPadding;\n  var stylesheet = useRef(null);\n\n  var lockScroll = function lockScroll() {\n    scrollTop.current = window.scrollY;\n    var styles = getLockStyles({\n      disableBodyPadding: disableBodyPadding\n    });\n    var sheet = makeStyleTag();\n    injectStyles(sheet, styles);\n    insertStyleTag(sheet);\n    stylesheet.current = sheet;\n  };\n\n  var unlockScroll = function unlockScroll() {\n    if (!(stylesheet == null ? void 0 : stylesheet.current)) return;\n    stylesheet.current.parentNode.removeChild(stylesheet.current);\n    stylesheet.current = null;\n  };\n\n  useEffect(function () {\n    if (scrollLocked) {\n      lockScroll();\n    } else {\n      unlockScroll();\n    }\n\n    return unlockScroll;\n  }, [scrollLocked]);\n  useEffect(function () {\n    if (lock !== void 0) {\n      setScrollLocked(lock);\n    }\n  }, [lock]);\n  useEffect(function () {\n    if (lock === void 0 && typeof window !== \"undefined\") {\n      window.document.body.style.overflow === \"hidden\" && setScrollLocked(true);\n    }\n  }, [setScrollLocked]);\n  return [scrollLocked, setScrollLocked];\n}\n\nexport { useScrollLock };","map":{"version":3,"mappings":";;;;;;;AAKO,SAASA,aAAT,CAAuBC,IAAvB,EAEJ;AAAA,MAFiCC,OAEjC,uEAF2C;AAC5CC,sBAAkB,EAAE;AADwB,GAE3C;;AACD,kBAAwCC,QAAQ,CAACH,IAAI,IAAI,KAAT,CAAhD;AAAA;AAAA,MAAOI,YAAP;AAAA,MAAqBC,eAArB;;AACA,MAAMC,SAAS,GAAGC,MAAM,CAAC,CAAD,CAAxB;AACA,MAAQL,kBAAR,GAA+BD,OAA/B,CAAQC,kBAAR;AACA,MAAMM,UAAU,GAAGD,MAAM,CAAC,IAAD,CAAzB;;AACA,MAAME,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBH,aAAS,CAACI,OAAV,GAAoBC,MAAM,CAACC,OAA3B;AACA,QAAMC,MAAM,GAAGC,aAAa,CAAC;AAAEZ,wBAAkB,EAAlBA;AAAF,KAAD,CAA5B;AACA,QAAMa,KAAK,GAAGC,YAAY,EAA1B;AACAC,gBAAY,CAACF,KAAD,EAAQF,MAAR,CAAZ;AACAK,kBAAc,CAACH,KAAD,CAAd;AACAP,cAAU,CAACE,OAAX,GAAqBK,KAArB;AACD,GAPD;;AAQA,MAAMI,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,QAAI,EAAEX,UAAU,IAAI,IAAd,GAAqB,KAAK,CAA1B,GAA8BA,UAAU,CAACE,OAA3C,CAAJ,EACE;AACFF,cAAU,CAACE,OAAX,CAAmBU,UAAnB,CAA8BC,WAA9B,CAA0Cb,UAAU,CAACE,OAArD;AACAF,cAAU,CAACE,OAAX,GAAqB,IAArB;AACD,GALD;;AAMAY,WAAS,CAAC,YAAM;AACd,QAAIlB,YAAJ,EAAkB;AAChBK,gBAAU;AACX,KAFD,MAEO;AACLU,kBAAY;AACb;;AACD,WAAOA,YAAP;AACD,GAPQ,EAON,CAACf,YAAD,CAPM,CAAT;AAQAkB,WAAS,CAAC,YAAM;AACd,QAAItB,IAAI,KAAK,KAAK,CAAlB,EAAqB;AACnBK,qBAAe,CAACL,IAAD,CAAf;AACD;AACF,GAJQ,EAIN,CAACA,IAAD,CAJM,CAAT;AAKAsB,WAAS,CAAC,YAAM;AACd,QAAItB,IAAI,KAAK,KAAK,CAAd,IAAmB,OAAOW,MAAP,KAAkB,WAAzC,EAAsD;AACpDA,YAAM,CAACY,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2BC,QAA3B,KAAwC,QAAxC,IAAoDrB,eAAe,CAAC,IAAD,CAAnE;AACD;AACF,GAJQ,EAIN,CAACA,eAAD,CAJM,CAAT;AAKA,SAAO,CAACD,YAAD,EAAeC,eAAf,CAAP;AACF","names":["useScrollLock","lock","options","disableBodyPadding","useState","scrollLocked","setScrollLocked","scrollTop","useRef","stylesheet","lockScroll","current","window","scrollY","styles","getLockStyles","sheet","makeStyleTag","injectStyles","insertStyleTag","unlockScroll","parentNode","removeChild","useEffect","document","body","style","overflow"],"sources":["/Users/marceloperez/node_modules/@mantine/hooks/src/use-scroll-lock/use-scroll-lock.ts"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\n\nimport { getLockStyles } from './utils/get-lock-styles';\nimport { injectStyles } from './utils/inject-style-tag';\nimport { insertStyleTag } from './utils/insert-style-tag';\nimport { makeStyleTag } from './utils/make-style-tag';\n\nexport function useScrollLock(\n  lock?: boolean,\n  options = {\n    disableBodyPadding: false,\n  }\n) {\n  const [scrollLocked, setScrollLocked] = useState(lock || false);\n  const scrollTop = useRef(0);\n\n  const { disableBodyPadding } = options;\n\n  const stylesheet = useRef<CSSStyleSheet | any | null>(null);\n\n  const lockScroll = () => {\n    scrollTop.current = window.scrollY;\n\n    const styles = getLockStyles({ disableBodyPadding });\n\n    /**\n     * by applying styles via style tag\n     * we dont care about previous styles due to inheritance\n     * when scroll gets unlocked we delete that style tag\n     */\n    const sheet = makeStyleTag();\n\n    injectStyles(sheet, styles);\n    insertStyleTag(sheet);\n\n    stylesheet.current = sheet;\n  };\n\n  const unlockScroll = () => {\n    if (!stylesheet?.current) return;\n\n    stylesheet.current.parentNode.removeChild(stylesheet.current);\n    stylesheet.current = null;\n  };\n\n  useEffect(() => {\n    if (scrollLocked) {\n      lockScroll();\n    } else {\n      unlockScroll();\n    }\n\n    return unlockScroll;\n  }, [scrollLocked]);\n\n  useEffect(() => {\n    if (lock !== undefined) {\n      setScrollLocked(lock);\n    }\n  }, [lock]);\n\n  useEffect(() => {\n    if (lock === undefined && typeof window !== 'undefined') {\n      window.document.body.style.overflow === 'hidden' && setScrollLocked(true);\n    }\n  }, [setScrollLocked]);\n\n  return [scrollLocked, setScrollLocked] as const;\n}\n"]},"metadata":{},"sourceType":"module"}